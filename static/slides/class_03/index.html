<!DOCTYPE html>
<!-- JG Reveal.js Template --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="pandoc">
<meta name="author" content="Jonathan Gilligan">
<title>NetLogo Basics</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimal-ui">
<link rel="stylesheet" href="../../lecture_lib/library/reveal.js-3.8.0/css/reset.css">
<link rel="stylesheet" href="../../lecture_lib/library/reveal.js-3.8.0/css/reveal.min.css">
<style type="text/css">
      code{white-space: pre-wrap;}
      .smallcaps{font-variant: small-caps;}
      .line-block{white-space: pre-line;}
      .column{display: inline-block;}  </style>
<style type="text/css">
    div.qrbox,
    aside.qrbox {
     text-align: left;
     vertical-align: bottom;
     width: 95%;
     position: fixed;
     left: 2.5%;
     bottom: 1rem;
     display: block;
    }
  </style>
<!-- theme = solarized_jg --><link rel="stylesheet" href="../../lecture_lib/library/assets/css/theme/solarized_jg.css" id="theme">
<!-- Printing and PDF exports --><script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? '../../lecture_lib/library/reveal.js-3.8.0/css/print/pdf.css' : '../../lecture_lib/library/reveal.js-3.8.0/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script><!--[if lt IE 9]>
  <script src="../../lecture_lib/library/reveal.js-3.8.0/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

            <!-- start title slide -->
<section class="center" id="title"><h1 class="title">NetLogo Basics</h1>
    <h3 class="author">EES 4760/5760</h3>
        <h3 class="author">Agent-Based and Individual-Based Computational Modeling</h3>
    <h3 class="author">Jonathan Gilligan</h3>
    <h3 class="date">
      Class #3:
       Tuesday August 29
      2019
    </h3>
	<!-- end title slide -->
</section><section id="agenda" class="slide level2"><h2>Agenda</h2>
<style>
.reveal .stretch code { max-height:100%; }
</style>
<ol type="1">
<li>Understanding structure of NetLogo models</li>
<li>Elementary NetLogo commands</li>
<li>Some principles of good programming</li>
<li>Overview of agent-based modeling</li>
</ol>
<hr>
<p>Start NetLogo on the computer in front of you.</p>
<hr>
<p>Remember: All slides from class are available at <a href="https://ees4760.jgilligan.org/" class="uri">https://ees4760.jgilligan.org/</a></p>
</section><section><section id="fundamentals-sec" class="title-slide slide level1 center"><h1>Fundamentals of NetLogo</h1></section><section id="code-sections" class="slide level2"><h2>Four Fundamental Code Parts</h2>
<table style="vertical-align:middle;"><tbody>
<tr>
<td style="border:1px solid blue;width:50%;vertical-align:middle;">
<pre><code>globals []
turtles-own []
breed [wolves wolf]</code></pre>
</td>
<td style="border:1px solid blue;vertical-align:middle;">
<ol type="1">
<li>Declaration of variables and collectives</li>
</ol>
</td>
</tr>
<tr>
<td style="border:1 blue solid;vertical-align:middle;">
<pre><code>to setup
   clear-all
    ask patches [ do-something ]
    ask turtles [ do-something ]
    reset-ticks
end</code></pre>
</td>
<td style="border:1px solid blue;vertical-align:middle;">
<ol start="2" type="1">
<li>Model initialization</li>
</ol>
</td>
</tr>
<tr>
<td style="border:1px solid blue;vertical-align:middle;">
<pre><code>to go
    ask patches [ do-something ]
    ask turtles [ do-something ]
    tick
end</code></pre>
</td>
<td style="border:1px solid blue;vertical-align:middle;">
<ol start="3" type="1">
<li>Scheduled actions (tick)</li>
</ol>
</td>
</tr>
<tr>
<td style="border:1px solid blue;vertical-align:middle;">
<pre><code>to do-something-special
  ...
end

to do-something-boring
  ...
end</code></pre>
</td>
<td style="border:1px solid blue;vertical-align:middle;">
<ol start="4" type="1">
<li>Submodels (science and cosmetics)</li>
</ol>
</td>
</tr>
</tbody></table></section><section id="objects" class="slide level2 eighty"><h2>Objects (Nouns)</h2>
<p>Two categories of objects:</p>
<ol type="1">
<li>Turtles
<ul>
<li><p>Turtles are any kind of agent</p></li>
<li><p>Turtles can move around</p></li>
<li>
<p>Turtles have properties (<code>turtles-own</code>)</p>
<pre><code>turtles-own [ age height hunger ]</code></pre>
</li>
<li>
<p>Your model can have more than one “breed” of turtle (e.g., wolves and sheep)</p>
<pre><code>breed [wolves wolf]
breed [sheeps sheep] ; names must be distinct</code></pre>
</li>
</ul>
</li>
<li>Patches
<ul>
<li><p>Patches represent the environment in which turtles live</p></li>
<li><p>Patches are always square and stationary</p></li>
<li>
<p>Like turtles, patches can have properties <code>patches-own</code></p>
<pre><code>patches-own [ elevation fertility ]</code></pre>
</li>
</ul>
</li>
</ol></section><section id="why-turtles" class="slide level2"><h2>Why “Turtles”?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="assets/images/mindstorms_turtle.jpg" alt="The original Logo turtle, from Seymour Papert’s book, Mindstorms"></p>
</div>
<div class="column eighty" style="width:50%;">
<ul>
<li>The Logo language originated before graphical displays were common.</li>
<li>Seymour Papert invented a robot turtle that would roll around under computer control
<ul>
<li>It had a pen or pencil that it could raise or lower to trace out its path on a piece of paper.</li>
</ul>
</li>
<li>NetLogo agents share behavior with the original turtle:
<ul>
<li>Turn left or right</li>
<li>Move forward</li>
<li>Raise or lower a “pen” to trace their paths</li>
</ul>
</li>
</ul>
</div>
</div>
</section><section id="operations" class="slide level2"><h2>Operations (Verbs)</h2>
<p>Two kinds of operations:</p>
<ol type="1">
<li>Procedures
<ul>
<li><p>Do things (eat, move, grow, buy, sell, …)</p></li>
<li>
<p>Defined using <code>to</code>:</p>
<pre><code>to wander
    right random 360
    forward random 5
end</code></pre>
</li>
</ul>
</li>
<li>Reporters
<ul>
<li><p>Calculate something and return a value</p></li>
<li>
<p>Defined using <code>to-report</code>:</p>
<pre><code>to-report turtles-nearby
   report count turtles-on neighbors
end</code></pre>
</li>
</ul>
</li>
</ol></section></section><section><section id="lets-build-a-model" class="title-slide slide level1 center"><h1>Let’s Build A Model!</h1></section><section id="simple-model" class="slide level2"><h2>A Simple Model of an Ecosystem</h2>
<ul>
<li>The landscape is initialized with random amounts of sugar on each patch</li>
<li>100 turtles live on the landscape</li>
<li>At each tick:
<ul>
<li>Every patch adds 0.075 to its sugar up to a maximum of 100</li>
<li>Every turtle’s hunger increases by 1, up to a maximum of 10</li>
<li>Every turtle eats sugar until it is no longer hungry, or the sugar on that patch runs out</li>
<li>The turtle decides whether it wants to move:
<ul>
<li>If there are other turtles on the patch, or if there is not enough sugar on the patch to satisfy its hunger, then the turtle will move to the neighboring patch with the largest amount of sugar.</li>
</ul>
</li>
</ul>
</li>
</ul></section><section id="begin-new-model" class="slide level2"><h2>Create a New Model</h2>
<ul>
<li>In NetLogo, open <strong>File</strong> menu and choose <strong>New</strong>
</li>
<li>Add three buttons:
<ul>
<li>“setup” (type “setup” in “Commands” space)</li>
<li>“go” (check the “forever” button)</li>
<li>“step” (type “go” in “Commands” space and “step” in “Display Name”)</li>
</ul>
</li>
<li>Go to the code tab and type this:</li>
</ul>
<pre><code>globals
[
  max-sugar
  sugar-growth
]
turtles-own [ hunger ]
patches-own [ sugar ]</code></pre>
</section><section id="initialization" class="slide level2"><h2>Model Initialization (<code>setup</code>)</h2>
<div class="columns">
<div class="column" style="width:40%;vertical-align:top;">
<p>Include <b>only things done once</b> to initialize the model</p>
</div>
<div class="column" style="width:60%;vertical-align:top;">
<h3 id="example">Example:</h3>
<pre><code>clear-all

&lt;set up patch variables&gt;
&lt;paint patches in neat colors&gt;

create turtles

&lt;set up turtle variables, etc.&gt;
&lt;plot initial model state (histograms, etc.)&gt;

reset-ticks</code></pre>
</div>
</div>
</section><section id="initialize-class-model" class="slide level2 ninety"><h2>Initialize Your Model</h2>
<p>Type this into the code tab for your model:</p>
<div class="stretch eighty">
<pre><code>to setup
  clear-all

  set sugar-growth 0.075
  set max-sugar 100

  ask patches
  [
    set sugar random max-sugar
    update-pcolor
  ]

  create-turtles 100
  [
    setxy random-xcor random-ycor
    set hunger 5
    update-color
  ]
  reset-ticks
end

to update-color
end

to update-pcolor
end</code></pre>
</div>
</section><section id="go-procedure" class="slide level2"><h2>Scheduled Actions (<code>go</code>)</h2>
<div class="columns">
<div class="column" style="width:40%;vertical-align:top;padding-top:2em;">
<ul>
<li>“go” is repeated over and over to execute model.</li>
<li>Include <strong>only</strong> stuff to be executed <strong>each time step</strong>
</li>
<li>Keep the “go” procedure simple and neat
<ul>
<li>For complicated stuff, call submodels</li>
</ul>
</li>
<li>Include termination point</li>
</ul>
</div>
<div class="column seventyfive" style="width:60%;vertical-align:top;">
<p>Type this into your model:</p>
<pre><code>to go
  tick
  ask turtles [
    if hunger &lt; 10 [ set hunger hunger + 1 ]
    eat
    move
    update-color
    ]
  ask patches
  [
    if sugar &lt; max-sugar [ set sugar sugar + sugar-growth ]
    update-pcolor
   ]
   if ticks &gt; 2000 [ stop ]
end

;
; Submodels
;

to eat
end

to move
end</code></pre>
</div>
</div>
</section></section><section><section id="tricky-sec" class="title-slide slide level1 center"><h1>Tricky Things</h1></section><section id="tick-vs-ticks" class="slide level2"><h2>
<code>tick</code> vs. <code>ticks</code>
</h2>
<ul>
<li><p><code>tick</code> — (verb) increments time by one period</p></li>
<li><p><code>ticks</code> — (noun) measures the time elapsed since the start</p></li>
<li>
<p>More technical explanation:</p>
<ul>
<li>NetLogo has an internal tick counter
<ul>
<li>
<code>tick</code> increments the tick counter</li>
<li>
<code>ticks</code> reports the current value of the tick counter</li>
</ul>
</li>
</ul>
</li>
</ul></section><section id="tick-vs-ticks-2" class="slide level2"><h2>
<code>tick</code> vs. <code>ticks</code>
</h2>
<div class="columns">
<div class="column" style="width:50%;vertical-align:top;">
<p>Good code:</p>
<pre><code>to go
    tick

    if ticks &gt; max-ticks
        [stop]
    ...
    ask turtles [set age ticks]
end</code></pre>
</div>
<div class="column" style="width:50%;vertical-align:top;">
<p>Bad code:</p>
<pre><code>to go
    ticks

    if tick &gt; max-ticks
        [stop]
    ...
    ask turtles
        [
            tick
            set age ticks
        ]
end</code></pre>
</div>
</div>
</section></section><section><section id="commands-sec" class="title-slide slide level1" data-transition="fade-out" data-skip="true"><h1>Elementary NetLogo Commands</h1></section><section id="commands" class="slide level2" data-transition="fade-in"><h2>Elementary NetLogo Commands</h2>
<ol type="A">
<li>Searching NetLogo dictionary</li>
<li>Working with <code>agentsets</code>
</li>
<li>Working with variables</li>
<li>Code branching (conditional statements)</li>
<li>Working with stochasticity</li>
<li>Working with graphics</li>
<li>How to make your code legible to others (documentation, comments, and tabbing)</li>
</ol></section><section id="netlogo-dictionary" class="slide level2"><h2>Searching NetLogo Dictionary</h2>
<ul>
<li>NetLogo dictionary is a web page</li>
<li>Use “Find on this page” in your web browser.</li>
</ul></section><section id="ask" class="slide level2"><h2>Working with agentsets (<code>ask</code>)</h2>
<ul>
<li>
<p>An agentset is a group of zero or more turtles, patches, etc.</p>
<ul>
<li>Plural nouns (<code>turtles</code>, <code>patches</code>) refer to agentsets.</li>
<li>Singular nouns (<code>turtle</code>, <code>patch</code>) refer to individual agents.</li>
</ul>
</li>
<li>
<p>“<code>ask</code>” tells an agent or all members of an agentset to do the code in the following brackets:</p>
<pre><code>```
ask turtles [ forward 5 ]
```</code></pre>
</li>
<li><p>All members of the agentset do the code, one at a time</p></li>
<li><p>Be careful not to put anything in the brackets that should not be repeated for each member of the agentset!</p></li>
</ul></section><section id="ask-scheduling" class="slide level2"><h2>How are these different?</h2>
<div class="columns eighty" style="width:100%;">
<div class="column" style="width:50%;vertical-align:top;">
<pre><code>ask turtles
    [
        buy
        sell
        update-bank-account
    ]</code></pre>
</div>
<div class="column" style="width:50%;vertical-align:top;">
<pre><code>ask turtles [buy]
ask turtles [sell]
ask turtles [update-bank-account]</code></pre>
</div>
</div>
</section><section id="with" class="slide level2"><h2>Working with agentsets (<code>with</code>)</h2>
<ul>
<li><p><code>turtles</code> is an agentset of all turtles.</p></li>
<li>
<p>“<code>with</code>” is one of many primitives that subset an agentset:</p>
<p><code>ask turtles with [color = blue] [move]</code></p>
</li>
<li><p>Similar keywords for sub-setting: <code>with-min</code>, <code>with-max</code>, <code>n-of</code>, <code>max-n-of</code>, <code>min-n-of</code>, <code>one-of</code>, <code>max-one-of</code>, <code>min-one-of</code></p></li>
<li><p>Use the dictionary to look up correct syntax.</p></li>
</ul></section><section id="of" class="slide level2"><h2>Working with agentsets (<code>of</code>)</h2>
<ul>
<li>
<p>“<code>of</code>” provides a <em>list</em> of the values of an <code>-own</code> variable</p>
<p><code>set happiness min [happiness] of neighbors</code></p>
</li>
<li>
<p>More generally, “<code>of</code>” is a primitive for getting a value from <em>another</em> agent or agents</p>
<p><code>set happiness [happiness] of a-neighbor-turtle</code></p>
</li>
<li><p>Use the dictionary to look up correct syntax.</p></li>
</ul></section><section id="to-move" class="slide level2"><h2>Add Movement to Our Model</h2>
<pre><code>to move
  if hunger &gt; sugar
  [
    move-to max-one-of neighbors [ sugar ]
  ]
end</code></pre>
<p>If there isn’t enough sugar to satisfy the turtle, it moves to the neighboring patch with the most sugar.</p>
</section><section id="set-vs-equals" class="slide level2"><h2>Working with agentsets (<code>=</code>, <code>set</code>)</h2>
<ul>
<li>Two fundamental kinds of operations:
<ul>
<li>Changing the value of a variable:
<ul>
<li>Assignment operations (<code>set</code>)</li>
</ul>
</li>
<li>Checking to see whether a value satisfies some condition:
<ul>
<li>Conditional operations (<code>=</code>, also <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>!=</code>)</li>
</ul>
</li>
</ul>
</li>
</ul></section><section id="compare-or-assign" class="slide level2"><h2>Equals or no equals?</h2>
<div class="columns eighty" style="width:100%;">
<div class="column" style="width:50%;vertical-align:top;text-align:left;">
<p>Assignment statements</p>
<ul>
<li>Wrong:</li>
</ul>
<pre><code>happiness = ([happiness] of a-neighbor-turtle)</code></pre>
<ul>
<li>Right:</li>
</ul>
<pre><code>set happiness ([happiness] of a-neighbor-turtle)</code></pre>
</div>
<div class="column" style="width:50%;vertical-align:top;text-align:left;">
<div class="fragment">
<p>Conditional statements (Boolean: yes or no)</p>
<pre><code>if happiness = 3
    [stop]

if happiness &lt;= 3
    [stop]

if happiness != 5 or ticks &gt; 17
    [stop]</code></pre>
</div>
</div>
</div>
</section><section id="set-vs-let" class="slide level2"><h2>Working with variables: <code>set</code> vs. <code>let</code>
</h2>
<ul>
<li><p>Global variables (known to all procedures)</p></li>
<li><p>Local variables (known only to one procedure)</p></li>
<li>
<p>Use <code>let</code> to <em>create</em> and <em>set the value</em> of a new local variable:</p>
<pre><code>let mean-neighbor-size mean [size] of turtles-on neighbors</code></pre>
</li>
<li>
<p>Use <code>set</code> to change the value of an existing variable (global, local, patch, turtle, etc.)</p>
<pre><code>set wealth wealth * 1.1

set hypotenuse sqrt(a ^ 2 + b ^ 2)</code></pre>
</li>
</ul></section><section id="to-eat" class="slide level2"><h2>Working On Our Model</h2>
<p>Type this into “code” tab to update <code>to eat</code> and <code>to move</code> in our model:</p>
<div class="ninety">
<pre><code>to eat
  ifelse hunger &gt; sugar
  [
    ; Use set to change an existing variable "hunger"
    set hunger hunger - sugar
    set sugar 0
  ]
  [
    set sugar sugar - hunger
    set hunger 0
  ]
end

to move
  if hunger &gt; sugar or any? turtles-here
  [
    ; Use let to create a new variable "dest"
    let dest max-one-of neighbors [ sugar ]
    move-to dest
  ]
end</code></pre>
</div>
</section><section id="assigning-agent-variables" class="slide level2"><h2>Working with variables: Giving a value to another agent</h2>
<ul>
<li>How does one patch (or turtle) give the value of one of its variables to other patches?
<ul>
<li>There are two ways to do this.</li>
</ul>
</li>
</ul>
<pre><code>ask neighbors [set pcolor [pcolor] of myself]</code></pre>
<pre><code>let my-color pcolor
ask neighbors [set pcolor my-color]</code></pre>
<ul>
<li class="fragment">Turtles implicitly access <code>patches-own</code> variables (e.g., <code>pcolor</code>, <code>sugar</code>) of the patch they’re on as though they were <code>turtles-own</code>
</li>
<li class="fragment">Converse is not true: Patches don’t automatically see <code>turtles-own</code>
</li>
<li class="fragment">Why?
<ul>
<li class="fragment">A turtle can only be on one patch at a time,</li>
<li class="fragment">but a patch may have multiple turtles.</li>
</ul>
</li>
</ul></section><section id="branching" class="slide level2"><h2>Code branching (conditional statements)</h2>
<pre><code>ifelse (boolean condition)
  [
  ; Do this if condition is true ...
  ]
  [  ;else
  ; Do this if condition is false
  ]</code></pre>
</section><section id="stochasticity" class="slide level2"><h2>Working with stochasticity (randomness)</h2>
<ul>
<li>
<p>Uniform distribution of random numbers between <code>a</code> and <code>b</code>:</p>
<pre><code>a + random (b-a)</code></pre>
</li>
<li>
<p>Normal distribution with mean <code>m</code> and std. deviation <code>s</code>:</p>
<pre><code>random-normal m s</code></pre>
</li>
<li>
<p>Selecting one patch at random and turn it green</p>
<pre><code>ask one-of patches [set pcolor green]</code></pre>
</li>
<li>
<p>Selecting one agent at random from an agentset and turn it right 5 degrees:</p>
<pre><code>ask one-of turtles [right 5]</code></pre>
</li>
</ul></section><section id="graphics" class="slide level2"><h2>Working with graphics</h2>
<p><img data-src="assets/images/color_palette.png" alt="color palette" height="900"></p>
</section><section id="adding-color-to-model" class="slide level2"><h2>Updating Our Model</h2>
<p>Type the following into the “code” tab to update the procedures <code>update-pcolor</code> and <code>update-color</code></p>
<div class="stretch">
<pre><code>to update-pcolor
  set pcolor scale-color yellow sugar 0 (2 * max-sugar)
end

to update-color
  ifelse hunger &gt; 5
  [
    set color scale-color red hunger 15 5
  ]
  [
    set color scale-color green hunger 5 -5
  ]
end</code></pre>
</div>
<ul>
<li>
<code>scale-color color number range1 range2</code> sets the lightness of the color. Higher numbers = lighter, lower = darker.</li>
<li>If <code>range1 &gt; range2</code>, light and dark are reversed.</li>
</ul></section><section id="running-class-model" class="slide level2"><h2>Running Our Model</h2>
<ul>
<li>Press “Check” and make sure there are no syntax errors</li>
<li>Go to “Interface” tab</li>
<li>Click on “setup”</li>
<li>Click on “go”</li>
<li>You can download a copy of the model from <a href="https://ees4760.jgilligan.org/models/class_03_example.nlogo" class="uri">https://ees4760.jgilligan.org/models/class_03_example.nlogo</a>
</li>
</ul></section><section id="monitoring-interacting" class="slide level2 seventy leftslide"><h2>Monitoring and Interacting with a Model</h2>
<p>On the “interface” tab:</p>
<div style="text-align:left;">
<ul>
<li>Right click and add a Plot
<ul>
<li>Name the plot “Hunger”</li>
<li>Set X max to 10 and Y max to 100</li>
<li>Type “Hunger” for “X axis label” and “# Turtles” for “Y axis label”</li>
<li>Click on the pencil icon under “default” pen
<ul>
<li>Choose “Bar” for “Mode”</li>
<li>In “Pen update commands” type <code>histogram [hunger] of turtles</code>
</li>
</ul>
</li>
<li>Press “OK”</li>
</ul>
</li>
</ul>
</div>
<div class="fragment">
<div style="text-align:left;">
<ul>
<li>Right click and add a Slider
<ul>
<li>Type “sugar-growth” into “Global Variable”</li>
<li>Set minimum to 0, increment to 0.005, maximum to 0.1, and value to 0.075</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="fragment">
<div style="text-align:left;">
<ul>
<li>Open the code tab and comment out definition and initialization of <code>sugar-growth</code>
</li>
</ul>
<pre><code>globals
[
  max-sugar
  ; sugar-growth
]
...
to setup
  clear-all
  ; set sugar-growth 0.075
  ...</code></pre>
</div>
</div>
</section><section id="model-play" class="slide level2"><h2>Play with the model</h2>
<ul>
<li>Do interesting things happen for different values of <code>sugar-growth</code>?</li>
<li>It might be fun to comment out the line in <code>to go</code> that stops the model after 2000 ticks</li>
</ul>
<pre><code>  ; if ticks &gt; 2000 [ stop ]</code></pre>
</section></section><section><section id="good-practice-sec" class="title-slide slide level1 center"><h1>Good Practices for Programming</h1></section><section id="making-code-legible" class="slide level2"><h2>Making your code legible to other people</h2>
<ol type="1">
<li>Comment, comment, comment.
<ul>
<li>Variable declaration: purpose, legal values</li>
<li>Procedure: purpose and description</li>
<li>Submodel equations: cite and explain</li>
</ul>
</li>
<li>Indent code so it shows clear blocks</li>
<li>After you’re finished coding, take time to write detailed documentation (ODD)</li>
</ol></section><section id="netlogo-dictionary-1" class="slide level2"><h2>When in doubt, use this.</h2>
<p><img data-src="assets/images/netlogo_dictionary.png" height="900"></p>
</section></section><section><section id="ABM-sec" class="title-slide slide level1" data-transition="fade-out" data-skip="true"><h1>Agent-Based Models</h1></section><section id="ABMs" class="slide level2" data-transition="fade-in"><h2>Agent-based models</h2>
<ul>
<li><p>Agents/Individuals are discrete, unique, and autonomous entities.</p></li>
<li><p>Discrete entities: Important at low densities</p></li>
<li><p>Unique: Individuals, even of same age and species, can be <strong>different</strong></p></li>
<li><p>Individuals have a <strong>life history</strong></p></li>
<li><p>Interactions among individuals are usually <strong>local</strong>, not global</p></li>
<li><p>Individuals make decisions, which can be <strong>adaptive</strong></p></li>
<li><p>Ecology or society <strong>emerges</strong> from individual behavior (bottom-up)</p></li>
</ul></section><section id="why-ABMs" class="slide level2"><h2>Why agent-based models?</h2>
<ol type="1">
<li>Individuals/agents are unique and different</li>
<li>Individuals/agents interact locally</li>
<li>Individuals/agents show adaptive behavior</li>
</ol></section><section id="why-ABMs-2" class="slide level2 leftslide"><h2>Why agent-based models?</h2>
<div style="text-align:left;">
<p>Use ABM if <em>one or more</em> of the following are <strong>essential</strong> to your research question:</p>
<ol type="1">
<li>Individual variability</li>
<li>Local interactions</li>
<li>Adaptive behavior</li>
</ol>
<div style="padding-top:50px;">

</div>
<ul>
<li>ABMs that include all three elements can be called <strong>full-fledged</strong>.</li>
<li>Most ABMs focus on only one or two elements.</li>
</ul>
</div>
</section><section id="why-not-ABMs" class="slide level2"><h2>Why <strong>not</strong> agent-based models?</h2>
<div style="text-align:left;">
<ul>
<li>Too complex</li>
<li>Too data hungry.</li>
<li>Too many parameters unknown.</li>
<li>Too much uncertainty in model structure.</li>
<li>Hard to test.</li>
<li>Require too much person and computer power.</li>
</ul>
</div>
<div class="fragment">
<div style="text-align:left;">
<p>When ABMs are too hard, use aggregated modeling techniques:</p>
</div>
</div>
<div class="fragment">
<div style="text-align:left;">
<ul>
<li>Microeconomics looks at aggregate supply and demand;
<ul>
<li>does not model individual consumers and producers.</li>
</ul>
</li>
<li>Biology can use population dynamics without looking at individuals</li>
<li>Chemists model chemical reactions with rate constants,
<ul>
<li>not individual atoms and molecules.</li>
</ul>
</li>
</ul>
</div>
</div>
</section><section id="heterogeneity" class="slide level2"><h2>Individual variability</h2>
<p><img data-src="assets/images/tree_variation.jpg" alt="tree variation" style="width:45%;"><img data-src="assets/images/fish_variation.jpg" alt="fish variation" style="width:45%;"></p>
<p><span style="font-size:50%;color:#C0C0C0;">From Huston, M., <em>et al.</em>, BioScience <strong>38</strong>, 682 (1988)</span></p>
</section><section id="adaptive-behavior" class="slide level2"><h2>Adaptive behavior</h2>
<p><img data-src="assets/images/adaptive.png" alt="Adaptive behavior" height="800"></p>
</section><section id="adaptive-trout" class="slide level2 eightyfive"><h2>Adaptive behavior:<br>Characteristic patterns in trout habitat selection</h2>
<p><img data-src="assets/images/trout.jpg" alt="Trout" height="800"></p>
</section><section id="trout-habitat-selection" class="slide level2 eightyfive"><h2>Adaptive behavior:<br>Characteristic patterns in trout habitat selection</h2>
<ul>
<li>Use of shallow habitat when small; deep habitat when big</li>
<li>Shift in habitat when predators, larger competitors are introduced</li>
<li>Hierarchical feeding: big guys get the best spots</li>
<li>Movement to margins during floods</li>
<li>Use of slower, quieter habitat in high turbidity</li>
<li>Use of lower velocities at lower temperatures</li>
</ul>
<p>Source: Railsback and Harvey, 2002.</p>
</section><section id="realistic-starling-flocking" class="slide level2"><h2>Example: flocks of starlings</h2>
<ul>
<li>Thousands of individuals
<ul>
<li>unique and different</li>
<li>interact locally</li>
<li>show adaptive behavior</li>
</ul>
</li>
</ul>
<p><img data-src="assets/images/starlings.png" alt="Starlings" height="600"></p>
</section><section id="starling-movie" class="slide level2"><h2>Flock of thousands of starlings</h2>
<video width="960" height="720" controls><source src="/static/video/MovieS6.mp4" type="video/mp4"><p>Your browser does not support the video tag.<br> You can play the video at <a href="https://ees4760.jgilligan.org/static/video//MovieS6.mp4">https://ees4760.jgilligan.org/static/video//MovieS6.mp4</a> </p></source></video></section><section id="starling-model" class="slide level2"><h2>Simulated flock of thousands of starlings</h2>
<video width="960" height="720" controls><source src="/static/video/MovieS1.mp4" type="video/mp4"><p>Your browser does not support the video tag.<br> You can play the video at <a href="https://ees4760.jgilligan.org/static/video//MovieS1.mp4">https://ees4760.jgilligan.org/static/video//MovieS1.mp4</a> </p></source></video></section><section id="starling-model-2" class="slide level2"><h2>Simulated flock of thousands of starlings</h2>
<video width="960" height="720" controls><source src="/static/video/MovieS2.mp4" type="video/mp4"><p>Your browser does not support the video tag.<br> You can play the video at <a href="https://ees4760.jgilligan.org/static/video//MovieS2.mp4">https://ees4760.jgilligan.org/static/video//MovieS2.mp4</a> </p></source></video></section></section>
</div>
  </div>
  <script src="../../lecture_lib/library/reveal.js-3.8.0/js/reveal.min.js"></script><script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: false,
        // Push each slide change to the browser history
        history: true,
        //  Enable hashing slide content to URL
        hash: true,
        // Vertical centering of slides
        center: false,
        // Don't separate fragments in PDF rendering
        pdfSeparateFragments: false,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,
        height: 1080,

        // Optional reveal.js plugins
        dependencies: [
                    { src: '../../lecture_lib/library/assets/plugin/chalkboard/chalkboard.js', async: true },
                                        { src: '../../lecture_lib/library/assets/plugin/reveal-skip-fragments/skip-fragments.js', async: true },
                    { src: '../../lecture_lib/library/reveal.js-3.8.0/plugin/zoom-js/zoom.js', async: true },
          { src: '../../lecture_lib/library/reveal.js-3.8.0/plugin/notes/notes.js', async: true }
        ],
        keyboard: {
    	    87: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
    	    67: function() { RevealChalkboard.toggleChalkboard() },	  // toggle chalkboard when 'b' is pressed
    	    46: function() { RevealChalkboard.clear() },	            // clear chalkboard when 'DEL' is pressed
    	     8: function() { RevealChalkboard.reset() },	            // reset chalkboard data on current slide when 'BACKSPACE' is pressed
    	    68: function() { RevealChalkboard.download() },	          // downlad recorded chalkboard drawing when 'd' is pressed
        },
      	// Shortcut for showing all fragments
      	skipFragmentsShowShortcut: 'R',

      	// Shortcut for hiding all fragments
      	skipFragmentsHideShortcut: 'T',
	      });

      Reveal.registerKeyboardShortcut("W", 'Toggle writing with pen on slide');
      Reveal.registerKeyboardShortcut("C", 'Toggle chalkboard drawing');
      Reveal.registerKeyboardShortcut("DEL", 'Clear chalkboard for all slides');
      Reveal.registerKeyboardShortcut("BACKSPACE", 'Clear chalkboard for current slide');
      Reveal.registerKeyboardShortcut("D", 'Download chalkboard data');
    </script><script>
  	function createSingletonNodejg( container, tagname, classname, innerHTML ) {

		// Find all nodes matching the description
		var nodes = container.querySelectorAll( '.' + classname );

		// Check all matches to find one which is a direct child of
		// the specified container
		for( var i = 0; i < nodes.length; i++ ) {
			var testNode = nodes[i];
			if( testNode.parentNode === container ) {
				return testNode;
			}
		}

		// If no node was found, create it now
		var node = document.createElement( tagname );
		node.className = classname;
		if( typeof innerHTML === 'string' ) {
			node.innerHTML = innerHTML;
		}
		container.appendChild( node );

		return node;

	}

  var dom_wrapper = document.querySelector('.reveal');
  createSingletonNodejg(dom_wrapper, 'div', 'qrbox',
  '<div class="qrbox" id="qrbox" style="font-size:90%;">' + '\n' +
  '<div style="font-size:30%;width:100%;">' + '\n' +
      '<a href="https://ees4760.jgilligan.org/slides/class_03">' +
  	'<img src="qrcode.png" alt="https://ees4760.jgilligan.org/slides/class_03"/>' +
  	'</a>' + '\n' +
	  '</div>' + '\n' +
  '<div style="font-size:30%;width:100%;vertical-align:top;">' + '\n' +
    '<span style="display:inline-block;text-align:left;margin-left:0">' + '\n' +
        'Live web page: <a href="https://ees4760.jgilligan.org/slides/class_03">https://ees4760.jgilligan.org/slides/class_03</a>' + '\n' +
              '<br/>' + '\n' +
        'PDF: <a href="https://ees4760.jgilligan.org/slides/class_03/EES_4760_5760_class_03_slides.pdf" target="_blank">https://ees4760.jgilligan.org/slides/class_03/EES_4760_5760_class_03_slides.pdf</a>' + '\n' +
          	'</span>' + '\n' +
  	'<span style="display:inline-block;text-align:right;vertical-align:top;position:absolute;right:0;bottom:0;">' + '\n' +
  	  'Navigate slides: next: N or &lt;space&gt;; previous: P or &lt;backspace&gt;<br/>' + '\n' +
  	  'Also: up, down, left, right arrows; overview: o; help: ?' + '\n' +
  	'</span>' + '\n' +
	'</div>' + '\n' +
  '</div>' + '\n'
  );
</script><script>
var MathJax = { jax: ["input/TeX", "output/HTML-CSS"],
                TeX: {extensions: ["color.js", "mhchem.js"]
                  },
                "HTML-CSS" : {scale: 100 }};
</script><!-- dynamically load mathjax for compatibility with self-contained --><script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
	  VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
	  VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
	  VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
	});
MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["SVG"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
	  VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
	  VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
	  VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
	});
  </script><script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script><script>
  var qrbox = document.querySelector("#qrbox");
  var advance_fragment = 0;

	function isPrintingPDF() {
	  let printing = ( /print-pdf/gi ).test( window.location.search );
	  console.log("printing test: " + printing);
	  return printing;
	}


  if ( qrbox.hasAttribute('qr-box-hide') || Reveal.isOverview() ||
      ! Reveal.isFirstSlide() || isPrintingPDF()) {
    console.log("Initializing");
    console.log("Hiding QR box");
    qrbox.style.visibility="hidden";
    qrbox.style.display="none";
  }

  Reveal.addEventListener('overviewshown', function() {
      console.log("Overview shown");
    console.log("Hiding QR box");
    qrbox.style.visibility="hidden";
    qrbox.style.display="none";
  }, false);

  Reveal.addEventListener('overviewhidden', function() {
    if (Reveal.isFirstSlide() && ! qrbox.hasAttribute('qr-box-hide') &&
        ! isPrintingPDF()) {
      console.log("Overview hidden");
      console.log("Showing QR box");
      qrbox.style.visibility="visible";
      qrbox.style.display="block";
    }
  }, false);

  Reveal.addEventListener('slidechanged', function() {
    console.log("Slide changed...");
    if (Reveal.isFirstSlide() && ! Reveal.isOverview() &&
        ! qrbox.hasAttribute('qr-box-hide') &&
        ! isPrintingPDF()) {
      console.log("Showing QR box");
      qrbox.style.visibility="visible";
      qrbox.style.display="block";
    } else {
      console.log("Hiding QR box");
      qrbox.style.visibility="hidden";
      qrbox.style.display="none";
    }
  }, false);

  Reveal.addEventListener('pdf-ready', function() {
    console.log("hiding qrbox for printing");
    qrbox.style.visibility="hidden";
    qrbox.style.display="none";
    qrbox.setAttribute('qr-box-hide', 'true');
  });

  </script><script>
  Reveal.addEventListener('slidechanged', function() {
    while (advance_fragment > 0) {
      // console.log('advancing fragment');
      Reveal.nextFragment();
      advance_fragment--;
    }
  }, false);

  Reveal.addEventListener('slidechanged', function() {
    if ( Reveal.getCurrentSlide().hasAttribute('data-skip')) {
      // console.log("going to next slide...");
      Reveal.next();
    }
  }, false);

  Reveal.addEventListener('skip_slide', function() {
    Reveal.next();
  }, false);

  Reveal.addEventListener('advance_fragment', function() {
    // console.log("setting advance fragment");
    advance_fragment++;
    }, false);
  </script>
</body>
</html>
